swift viewcontroller
swift viewcontroller 追加
swift viewcontroller 遷移
swift viewcontroller init
swift viewcontroller 取得
swift viewcontroller 複数
swift viewcontroller 初期化
swift viewcontroller 閉じる
swift viewcontroller 解放
swift uiviewcontroller ライフサイクル
swift viewcontroller appdelegate
swift viewcontroller addsubview
swift uiviewcontroller animation
swift viewcontroller access
swift viewcontroller access appdelegate
swift call viewcontroller from appdelegate
swift start viewcontroller from appdelegate
swift get viewcontroller from appdelegate
swift viewcontroller 移動
swift viewcontroller インスタンス
swift viewcontroller イベント
swift viewcontroller identifier
swift viewcontroller イニシャライザ
swift viewcontroller init 引数
swift viewcontroller init coder
swift objective-c uiviewcontroller
swift viewcontroller init override
swift uiviewcontroller
swift viewcontroller uiviewcontroller
swift viewcontroller window
swift viewcontroller uiview
swift viewcontroller unit test
swift viewcontroller with tableview
swift viewcontroller update
swift viewcontroller without storyboard
uiviewcontroller unload swift
viewcontroller 値 受け渡し swift
swift viewcontroller example
swift viewcontroller extension
swift viewcontroller event
swift embedded viewcontroller
swift embed viewcontroller
swift viewcontroller orientation
swift viewcontroller override init
swift viewcontroller outlet
swift viewcontroller optional
swift 親 viewcontroller
swift ios viewcontroller
swift open new viewcontroller
swift get viewcontroller of view
swift property of viewcontroller
swift viewcontroller 重ねる
swift viewcontroller 回転
swift cast viewcontroller
swift call viewcontroller
swift appdelegate call viewcontroller method
swift viewcontroller 切り替え
swift viewcontroller クラス
swift viewcontroller custom init
swift viewcontroller custom
swift get current viewcontroller
swift current viewcontroller
swift appdelegate current viewcontroller
swift get current viewcontroller from appdelegate
swift viewcontroller 継承
swift viewcontroller 更新
swift viewcontroller コード
swift viewcontroller コンストラクタ
swift viewcontroller container
swift viewcontroller background color
swift set viewcontroller background color
swift compare viewcontroller
swift viewcontroller 削除
swift viewcontroller サイズ
swift viewcontroller 再描画
swift viewcontroller 最前面
swift viewcontroller 再読み込み
safari viewcontroller swift
swift viewcontroller 種類
swift viewcontroller 終了
swift viewcontroller singleton
swift viewcontroller size
swift viewcontroller show
swift storyboard viewcontroller 取得
ios show viewcontroller swift
swift viewcontroller スクロール
swift viewcontroller.swift
swift uiviewcontroller subclass
swift viewcontroller switch
swift add viewcontroller as subview
swift swipe viewcontroller
swift viewcontroller segue
swift viewcontroller second
swift viewcontroller dismiss self
swift get viewcontroller from segue
swift set root viewcontroller
swift viewcontroller 切換
swift viewcontroller タイトル
swift viewcontroller table
swift viewcontroller tableview
swift viewcontroller 値渡し
swift viewcontroller title
swift viewcontroller change
swift check if viewcontroller is presented
uiviewcontroller check swift
child viewcontroller swift
swift viewcontroller tutorial
swift storyboard viewcontroller 追加
swift uiviewcontroller 傳值
swift test viewcontroller
swift unit test viewcontroller
swift add viewcontroller to view
swift add viewcontroller to viewcontroller
swift add viewcontroller to storyboard
swift viewcontroller 名前変更
swift viewcontroller name
swift viewcontroller navigation
swift navigationcontroller viewcontroller
swift remove viewcontroller from navigation stack
swift viewcontroller class name
swift get viewcontroller from navigationcontroller
swift viewcontroller nib
swift viewcontroller nibname
swift viewcontroller nil
swift load viewcontroller from nib
viewcontroller xib swift init
swift add new viewcontroller
swift next viewcontroller
uiviewcontroller new swift
create new viewcontroller swift
swift viewcontroller notification
swift viewcontroller has no initializers
swift viewcontroller has no initializer
swift viewcontroller does not conform to protocol
swift viewcontroller deinit not called
swift viewcontroller 破棄
swift viewcontroller 背景色
swift viewcontroller 背景画像
swift viewcontroller 背景
swift uiviewcontroller 初始化
swift viewcontroller 表示
swift viewcontroller 肥大化
swift viewcontroller 引数
swift viewcontroller 比較
swift storyboard viewcontroller 紐付け
swift init for viewcontroller
swift uiviewcontroller first
uiviewcontroller finish swift
swift viewcontroller 変数
swift viewcontroller 変更
swift viewcontroller メソッド 呼び出し
swift viewcontroller メソッド
swift viewcontroller 戻る
swift viewcontroller modal
swift viewcontroller model
swift dismiss modal viewcontroller
swift close modal viewcontroller
swift viewcontroller 呼び出し
viewcontroller メソッド 呼び出し swift
swift uiviewcontroller resize
swift uiviewcontroller reference
swift uiviewcontroller replace
swift viewcontroller release
swift viewcontroller remove
swift viewcontroller required init
swift viewcontroller reload
swift rename viewcontroller
swift uiviewcontroller redraw
swift restart viewcontroller
uiviewcontroller rotate swift
swift viewcontroller 画面遷移
swift viewcontroller get window
swift get viewcontroller from storyboard
swift get viewcontroller from view
swift uitabbarcontroller get viewcontroller
swift get viewcontroller
swift get viewcontroller instance
swift get visible viewcontroller
swift go to viewcontroller
swift jump to viewcontroller
pass data viewcontroller swift
swift viewcontroller dismiss
swift didreceiveremotenotification viewcontroller
swift dictionary viewcontroller
swift viewcontroller delegate
swift viewcontroller deinit
swift viewcontroller データ
swift viewcontroller dealloc
swift destroy viewcontroller
delete viewcontroller swift
swift viewcontroller background image
swift viewcontroller back
swift viewcontroller background
swift uiviewcontroller back button
swift viewcontroller 分割
swift viewcontroller button
swift viewcontroller parent
swift viewcontroller pass value
swift viewcontroller pass data
swift viewcontroller push
swift push viewcontroller storyboard
swift viewcontroller pop
swift viewcontroller portrait
swift viewcontroller popup
uiviewcontroller popover swift
swift viewcontroller animation
swift viewcontroller alloc init
swift uiviewcontroller autocomplete
swift reference viewcontroller from appdelegate
swift access viewcontroller from another class
swift view controller best practices
ios swift uiviewcontroller image background
xcode swift view controller background image
swift uiviewcontroller custom init
swift viewcontroller class
swift uiviewcontroller containment
swift viewcontroller color
swift uiviewcontroller callback
swift center view controller
swift view controller dependency injection
swift viewcontroller.type does not have a member
swift uiviewcontroller extension
swift view controller empty
swift extend uiviewcontroller
swift check if viewcontroller exist
swift viewcontroller from storyboard
swift viewcontroller from nib
swift uiviewcontroller fullscreen
swift viewcontroller from appdelegate
swift viewcontroller frame
swift access viewcontroller from class
swift remove viewcontroller from stack
swift open viewcontroller from appdelegate
swift get viewcontroller name
swift viewcontroller go back
swift get parent viewcontroller
swift get rootviewcontroller
swift uiview get viewcontroller
swift generic viewcontroller
game viewcontroller.swift
swift viewcontroller inside viewcontroller
swift viewcontroller is visible
swift uiviewcontroller lifecycle
swift view controller life cycle
swift viewcontroller loadview
swift xib load uiviewcontroller
swift viewcontroller label
swift launch screen viewcontroller
swift lazy viewcontroller
swift load another viewcontroller
how to programmatically load a uiviewcontroller swift
let viewcontroller swift
swift uiviewcontroller methods
swift viewcontroller memory leak
swift move view controller
swift remove viewcontroller from memory
multiple viewcontroller swift
swift viewcontroller not deinit
swift uiviewcontroller not called
swift uiviewcontroller notifications
swift uiviewcontroller override init
swift viewcontroller only landscape
swift open viewcontroller programmatically
swift open viewcontroller
swift open another viewcontroller
viewcontroller object swift
swift viewcontroller present
swift viewcontroller properties
swift viewcontroller protocol
swift viewcontroller property
swift viewcontroller pass
swift reset viewcontroller
swift viewcontroller 生成
swift viewcontroller storyboard
swift viewcontroller type
uiviewcontroller transition swift
swift viewcontroller view
swift viewcontroller viewdidload
swift viewcontroller variables
swift viewcontroller visible
swift viewcontroller var
swift viewcontroller viewwillappear
swift viewcontroller viewwilldisappear
swift check if viewcontroller is visible
swift access viewcontroller from view
viewcontroller.swift vs viewcontroller.h
swift viewcontroller with xib
swift viewcontroller width
swift open viewcontroller without segue
swift go to viewcontroller without segue
uiviewcontroller without nib swift
what is viewcontroller.swift
swift viewcontroller xib
swift uiviewcontroller init
swift xctest viewcontroller
swift create viewcontroller from xib
swift os x viewcontroller
xcode swift viewcontroller
swift 2 viewcontroller
swift 2 uiviewcontroller init
swift 2 tableview in viewcontroller
pushviewcontroller 2 in swift
2nd view controller swift


SwiftでiOSアプリを開発していると、画面遷移と値の受け渡しに無茶苦茶苦戦します。Androidだとあんなに簡単なのに。。。と度々絶望する日々。と言うことで、色んなパターンの画面遷移方法をまとめておきました。ソースもgithub上にありますのでご活用ください。

Swift: 4.0.3
Xcode: 9.2
ソース：
https://github.com/yheihei/ios/tree/master/MoveViewTutorial


UINavigationControllerへの遷移(StoryBoardから)

次画面のUINavigationControllerへの矢印を引く(segue)

Segueのidentifierを命名する

次画面のViewControllerに値がセットされる変数を書く

NavitukiViewController.swift

class NavitukiViewController: UIViewController {

    var receiveText:String? // 前画面からのテキストがここに入る
    @IBOutlet weak var showTextLabel: UILabel!


前画面のprepareで渡したい値を設定する

TopViewController.swift

    // segueによる遷移前にここを通る
    override func prepare(for segue: UIStoryboardSegue, sender: Any?) {
        guard let identifier = segue.identifier else {
            // identifierが取れなかったら処理やめる
            return
        }
        
        if(identifier == "ncSegue") {
            // NavigationControllerへの遷移の場合
            
            // segueから遷移先のNavigationControllerを取得
            let nc = segue.destination as! UINavigationController
            
            // NavigationControllerの一番目のViewControllerが次の画面
            let vc = nc.topViewController as! NavitukiViewController
            
            // 次画面のテキスト表示用のStringに、本画面のテキストフィールドのテキストを入れる
            vc.receiveText = self.sendingTextField.text
        }
    }

次画面から前画面に値を通知してやる

NavitukiViewController.swift

class NavitukiViewController: UIViewController {

    var receiveText:String? // 前画面からのテキストがここに入る
    @IBOutlet weak var showTextLabel: UILabel!

    @IBOutlet weak var returnTextField: UITextField! // 前画面に戻すテキスト


TopViewController.swift

    // 次画面から戻ってくるときに呼ばれる
    @IBAction func unwindToTop(sender: UIStoryboardSegue) {
    
    }

StoryBoardからExitに矢印を引き、unwindToTopWithSenderを選択


戻ってきたときに値を受け取って表示更新

TopViewController.swift

    // 次画面から戻ってくるときに呼ばれる
    @IBAction func unwindToTop(sender: UIStoryboardSegue) {
        // 次画面のNavitukiViewControllerを受け取る
        guard let sourceVC = sender.source as? NavitukiViewController else {
            // NavitukiViewControllerでなかったらやめる
            return
        }
        
        // NavitukiViewControllerの値を受け取って更新
        self.receivedTextLabel.text = sourceVC.returnTextField.text
    }

キャンセルの場合に画面を閉じる処理

closeを矢印でIBActionに

NavitukiViewController.swift

    @IBAction func close(_ sender: Any) {
       // 表示元がViewControllerかNavigationControllerかで消し方が違う
        if self.presentingViewController is UINavigationController {
            //  表示元がNavigationControllerの場合
            self.dismiss(animated: true, completion: nil)
        } else {
            // 表示元がViewControllerの場合
            self.navigationController?.popViewController(animated: true)
        }
    }


UINavigationControllerへの遷移(コードから)

Button押下時のIBAction設定


UINavigationControllerをコードから起動。次画面に値を渡す

NavigationControllerのidentifierを設定

TopViewController.swift

    @IBAction func moveNC(_ sender: Any) {
        let storyboard: UIStoryboard = self.storyboard!
        // 設定したidentifier名でNavigationControllerを取得
        let nc = storyboard.instantiateViewController(withIdentifier: "navigationController") as! UINavigationController
        
        // NavigationControllerの一番目のViewControllerが次の画面
        let vc = nc.topViewController as! NavitukiViewController
        
        // 次画面のテキスト表示用ラベルのテキストを、本画面のテキストフィールドのテキストに
        vc.receiveText = self.sendingTextField.text
        
        // NavigationControllerを表示(NCのトップのViewControllerが表示される)
        self.present(nc, animated: true, completion: nil)
    }

次画面から前画面に値を渡す

　同じやり方


UIViewControllerに遷移(StoryBoardから)し、

vcSegueを矢印で



UINavigationControllerつきUIViewControllerに遷移(StoryBoardから)

segueを矢印で

Segueのidentifierを命名する

次画面に送信する文字列の接続


SingleViewController.swift

    override func prepare(for segue: UIStoryboardSegue, sender: Any?) {
        guard let identifier = segue.identifier else {
            // identifierが取れなかったら処理やめる
            return
        }
        
        if(identifier == "vcToNCTukiVC") {
            // NCつきViewControllerへの遷移の場合
            
            // segueから遷移先のViewControllerを取得
            let vc = segue.destination as! NavitukiViewController
            
            // 次画面のテキスト表示用ラベルのテキストを、本画面のテキストフィールドのテキストに
            vc.receiveText = self.sendingTextField.text
        }
    }

次画面からCancelで前画面に戻る

表示元がUIViewControllerなので、self.navigationController?.popViewController(animated: true)で消す

NavitukiViewController.swift
    @IBAction func close(_ sender: Any) {
       // 表示元がViewControllerかNavigationControllerかで消し方が違う
        if self.presentingViewController is UINavigationController {
            //  表示元がNavigationControllerの場合
            self.dismiss(animated: true, completion: nil)
        } else {
            // 表示元がViewControllerの場合
            self.navigationController?.popViewController(animated: true)
        }
    }

次画面から前画面に値を戻す












